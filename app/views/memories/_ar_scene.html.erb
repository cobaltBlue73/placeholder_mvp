<a-scene webxr="referenceSpaceType: local;
                requiredFeatures: hit-test,local,dom-overlay;
                overlayElement: #ar-overlay"
         ar-hit-test="marker: #ar-marker"
         avatar
         xr-double-tap
         embedded
         data-controller="ar-scene"
         data-action="doubleTap->ar-scene#doubleTap"
>

  <a-assets>
    <% avatars.each_with_index do |avatar, index| %>
      <%= cl_image_tag(avatar.photo.key, id: "avatar-img-#{index}", crossorigin: "anonymous",
                       transformation: [ { height: 600, crop: 'scale' } ]) %>
    <% end %>
  </a-assets>

  <a-ring id='ar-marker' rotation="-90 0 0" radius-inner="0.01" radius-outer="0.02"></a-ring>

  <% avatars.each_with_index do |avatar, index| %>
    <a-entity avatar class="ar-avatar" id=<%= "avatar-#{index}" %> visible='false'>
      <a-image src=<%= "#avatar-img-#{index}" %> height="1.75"></a-image>
    </a-entity>
  <% end %>

</a-scene>
